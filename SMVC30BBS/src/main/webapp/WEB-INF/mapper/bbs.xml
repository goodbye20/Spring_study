<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="bbs">
	<select id="selectBBS"  parameterType="bbsVO" resultType="bbsVO" >
		select num, title, content, owner, createdate, isdelete
		from bbs
		where isdelete = 'N'
			<if test="num!=null">
				and num=#{num}
			</if>
			<if test="title!=null">
				and title like #{title}
			</if>
			<if test="content!=null">
				and content like #{content}
			</if>
			limit #{start}, #{count}
	</select>
	
	<insert id="insertBBS" parameterType="bbsVO" >
		insert into bbs(title, content, owner, createdate)
		value(#{title},#{content},#{owner},#{createdate})
	</insert>
	
	<update id="updateBBS" parameterType="bbsVO" >
		update bbs
		<set>
			<if test="title!=null">title =#{title}</if>
			<if test="content!=null">content =#{content}</if>
		</set>
		where num=#{num}
	</update>
	
	<delete id="deleteBBS" parameterType="bbsVO" >
		update bbs set isdelete='Y' where num=#{num}
	</delete>
</mapper>
